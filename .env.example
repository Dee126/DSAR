# Database
# Local development: use direct connection (same value for both)
DATABASE_URL="postgresql://privacy_pilot:privacy_pilot_dev@localhost:5432/privacy_pilot"
DIRECT_URL="postgresql://privacy_pilot:privacy_pilot_dev@localhost:5432/privacy_pilot"

# Vercel + Supabase: use Connection Pooler for DATABASE_URL (port 6543)
# DATABASE_URL="postgresql://postgres.PROJECT_REF:PASSWORD@aws-0-REGION.pooler.supabase.com:6543/postgres?pgbouncer=true"
#
# DIRECT_URL is used by Prisma ONLY for migrations/schema pushes (port 5432).
# Set it locally or in CI — do NOT set it in Vercel env vars (not needed at runtime).
# DIRECT_URL="postgresql://postgres.PROJECT_REF:PASSWORD@db.PROJECT_REF.supabase.co:5432/postgres"

# Auth Mode: "test" (no DB/Supabase needed) or "supabase" (NextAuth + Prisma)
# Default: "test" for local/VM development
NEXT_PUBLIC_AUTH_MODE="test"

# Auth secret for HMAC-signed cookies (test mode). Generate with: openssl rand -hex 32
AUTH_SECRET="dev-secret-change-me"

# Test-mode credentials (only used when NEXT_PUBLIC_AUTH_MODE="test")
TEST_USER_EMAIL="daniel.schormann@gmail.com"
TEST_USER_PASSWORD="admin123"

# NextAuth (only used when NEXT_PUBLIC_AUTH_MODE="supabase")
NEXTAUTH_SECRET="change-me-to-a-random-secret-in-production"
NEXTAUTH_URL="http://localhost:3000"

# Storage
STORAGE_TYPE="local"
STORAGE_LOCAL_PATH="./uploads"

# For S3 (production):
# STORAGE_TYPE="s3"
# S3_BUCKET="privacy-pilot-docs"
# S3_REGION="us-east-1"
# S3_ACCESS_KEY_ID=""
# S3_SECRET_ACCESS_KEY=""
# S3_ENDPOINT=""

# Integration secrets encryption (32 bytes, base64-encoded)
# Generate with: openssl rand -base64 32
INTEGRATION_ENCRYPTION_KEY=""

# Connector credential encryption (32 bytes, base64-encoded)
# Falls back to INTEGRATION_ENCRYPTION_KEY if not set
# Generate with: openssl rand -base64 32
ENCRYPTION_KEY=""

# SMTP / Email (for password reset)
SMTP_HOST="smtp.example.com"
SMTP_PORT="587"
SMTP_SECURE="false"
SMTP_USER=""
SMTP_PASS=""
SMTP_FROM="noreply@privacypilot.local"

# SLA default (days)
DEFAULT_SLA_DAYS=30

# Supabase (optional — falls back to Prisma when not configured)
# Set USE_SUPABASE=true and provide credentials to use Supabase instead of local Postgres
USE_SUPABASE="false"
# URL format: https://<project-ref>.supabase.co  (NOT the dashboard URL)
NEXT_PUBLIC_SUPABASE_URL=""
NEXT_PUBLIC_SUPABASE_ANON_KEY=""
SUPABASE_SERVICE_ROLE_KEY=""
